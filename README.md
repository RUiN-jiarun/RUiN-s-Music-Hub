# RUiN's Music Hub 1.0
By 3180105640 刘佳润

## 已实现功能
* 主页
* 两个音乐集的目录页面
* 音乐播放器页面
* 图像格式转换页面  
_更多请参考附件中的demo show.mp4录屏文件查看效果_

## 亮点
* 音乐播放器界面的仿网易云音乐唱片动画
* 图像格式转换器
* 返回顶部的悬浮图标

## 开发环境与语言
* Python 3.7 
* PyCharm 2019.1.3 community 
* Html5 + CSS + JavaScript 
* Flask 1.1.2 (Jinja 2.11.2)

## 工程文件说明
* static文件夹：静态资源
    * 3180105640文件夹：你需要把上次提交的数据集放过来
    * css文件夹：css文件，网页排版
    * img文件夹：图片文件，插入网页中
        * player文件夹：音乐播放界面的图标
        * 其他
    * js文件夹：javascript文件与json文件，网页脚本和json数据
* templates文件夹：网页模板
* run.py：程序入口

## 部署与运行方式
1. 将上次提交的3180105640文件夹整体复制到static文件夹下，确保该文件夹里只有两个子文件夹，即两个domain
2. 运行run.py
3. 在浏览器输入<https://127.0.0.1:5000>以查看

## 部分实现说明
### catalog的生成
    在python脚本里用os库等函数处理了文件目录，生成了dict。
    将包含了图片地址、音频地址、歌曲信息的dict压缩成json文件，在JS脚本中通过JQuery的ajax方法读取并处理。
    将处理好的各个列表传入JS文件中的参数，并做处理，写入HTML文档。
### 音乐播放器
    资源方面，模仿网易云音乐（其实就是解了网易云的手机apk包）。
    唱片旋转和磁针移动的动画都是借助CSS实现，由JS读取状态来控制。
### 图片格式转换器
    利用了JS中的canvas，其实用到了一个隐藏的canvas类来画转化的图。
    最后呈现出来的是从canvas里得到的图像信息，更改了原图的信息头来生成的png。
    如果导入的是jpg，生成的png通常文件大小要大很多。这是由于压缩方式不同。

## TO-DO List
（如果继续开发，需要完成的部分）
* 进一步美化，增加更多JS动画效果等
* 优化代码。现在代码的重用比较严重，需要熟悉模板方法以后再想办法缩减不必要的文件
* 部署到服务器                                                                                                                                                                                                                                                                                                                                                                                                                                          

